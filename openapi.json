{"openapi":"3.0.0","paths":{"/api/users":{"get":{"operationId":"UsersController_getUsers","parameters":[],"responses":{"200":{"description":"Get all users","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GetUserDto"}}}}},"401":{"description":"Unauthorized"}},"tags":["users"],"security":[{"access-token":[]}]},"post":{"operationId":"UsersController_createUser","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"201":{"description":"Create user"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"409":{"description":"Conflict"}},"tags":["users"],"security":[{"access-token":[]}]}},"/api/users/{id}":{"get":{"operationId":"UsersController_getUsersId","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Get user by id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetUserDto"}}}},"401":{"description":"Unauthorized"}},"tags":["users"],"security":[{"access-token":[]}]},"put":{"operationId":"UsersController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":"Update user"},"401":{"description":"Unauthorized"}},"tags":["users"],"security":[{"access-token":[]}]},"delete":{"operationId":"UsersController_delete","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Delete user"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"}},"tags":["users"],"security":[{"access-token":[]}]}},"/api/roles":{"get":{"operationId":"RolesController_findAll","parameters":[{"name":"withLabels","required":true,"in":"query","example":true,"schema":{"type":"boolean"}}],"responses":{"200":{"description":"Get all roles","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Role"}}}}},"401":{"description":"Unauthorized"}},"tags":["roles"],"security":[{"access-token":[]}]},"post":{"operationId":"RolesController_CreateRole","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleDto"}}}},"responses":{"201":{"description":"Create role"},"401":{"description":"Unauthorized"}},"tags":["roles"],"security":[{"access-token":[]}]}},"/api/roles/{name}":{"get":{"operationId":"RolesController_findOne","parameters":[{"name":"name","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Get role by name","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Role"}}}},"401":{"description":"Unauthorized"}},"tags":["roles"],"security":[{"access-token":[]}]},"delete":{"operationId":"RolesController_delete","parameters":[{"name":"name","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Delete role"},"401":{"description":"Unauthorized"}},"tags":["roles"],"security":[{"access-token":[]}]},"put":{"operationId":"RolesController_update","parameters":[{"name":"name","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleDto"}}}},"responses":{"200":{"description":"Update role"},"401":{"description":"Unauthorized"}},"tags":["roles"],"security":[{"access-token":[]}]}},"/api/roles/{roleName}/label":{"post":{"operationId":"RolesController_addLabelToRole","parameters":[{"name":"roleName","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"example":{"label":"label"}}}}},"responses":{"200":{"description":"Add label to role"},"401":{"description":"Unauthorized"}},"tags":["roles"],"security":[{"access-token":[]}]}},"/api/roles/{roleName}/labels":{"get":{"operationId":"RolesController_getRoleLabels","parameters":[{"name":"roleName","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Get all labels from role"},"401":{"description":"Unauthorized"}},"tags":["roles"],"security":[{"access-token":[]}]}},"/api/roles/{roleName}/label/{label}":{"delete":{"operationId":"RolesController_removeLabelFromRole","parameters":[{"name":"roleName","required":true,"in":"path","schema":{"type":"string"}},{"name":"label","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Remove label from role"},"401":{"description":"Unauthorized"}},"tags":["roles"],"security":[{"access-token":[]}]}},"/api/options":{"get":{"operationId":"OptionsController_getOptions","parameters":[],"responses":{"200":{"description":"Get all options","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Option"}}}},"401":{"description":"Unauthorized"}},"tags":["options"],"security":[{"access-token":[]}]},"patch":{"operationId":"OptionsController_update","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOptionDto"}}}},"responses":{"200":{"description":"Update options","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOptionDto"}}}},"401":{"description":"Unauthorized"}},"tags":["options"],"security":[{"access-token":[]}]}},"/api/labels":{"get":{"operationId":"LabelsController_findAll","parameters":[],"responses":{"200":{"description":"Get all labels","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Label"}}}}},"401":{"description":"Unauthorized"}},"tags":["labels"],"security":[{"access-token":[]}]},"post":{"operationId":"LabelsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LabelDto"}}}},"responses":{"201":{"description":"Create label"},"401":{"description":"Unauthorized"}},"tags":["labels"],"security":[{"access-token":[]}]}},"/api/labels/{labelName}":{"delete":{"operationId":"LabelsController_remove","parameters":[{"name":"labelName","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"remove label"},"401":{"description":"Unauthorized"}},"tags":["labels"],"security":[{"access-token":[]}]}},"/api/system":{"get":{"operationId":"OrthancController_getSystem","parameters":[],"responses":{"200":{"description":""}},"tags":["orthanc"]}},"/api/tools/reset":{"post":{"operationId":"OrthancController_resetOrthanc","parameters":[],"responses":{"201":{"description":""}},"tags":["orthanc"]}},"/api/tools/shutdown":{"post":{"operationId":"OrthancController_shutdownOrthanc","parameters":[],"responses":{"201":{"description":""}},"tags":["orthanc"]}},"/api/tools/log-level":{"get":{"operationId":"OrthancController_getLogLevel","parameters":[],"responses":{"200":{"description":""}},"tags":["orthanc"]},"put":{"operationId":"OrthancController_updateLogLevel","parameters":[],"responses":{"200":{"description":""}},"tags":["orthanc"]}},"/api/plugins":{"get":{"operationId":"OrthancController_getPlugins","parameters":[],"responses":{"200":{"description":""}},"tags":["orthanc"]}},"/api/jobs/*":{"post":{"operationId":"OrthancController_getJobs","parameters":[],"responses":{"201":{"description":""}},"tags":["orthanc"]}},"/api/modalities/*":{"delete":{"operationId":"OrthancController_deleteModality","parameters":[],"responses":{"200":{"description":""}},"tags":["orthanc"]},"put":{"operationId":"OrthancController_editModality","parameters":[],"responses":{"200":{"description":""}},"tags":["orthanc"]}},"/api/modalities/*/echo":{"post":{"operationId":"OrthancController_createEcho","parameters":[],"responses":{"201":{"description":""}},"tags":["orthanc"]}},"/api/peers/*":{"delete":{"operationId":"OrthancController_deletePeer","parameters":[],"responses":{"200":{"description":""}},"tags":["orthanc"]}},"/api/peers/*/system":{"get":{"operationId":"OrthancController_getPeerSystem","parameters":[],"responses":{"200":{"description":""}},"tags":["orthanc"]}},"/api/peer/*":{"put":{"operationId":"OrthancController_editPeer","parameters":[],"responses":{"200":{"description":""}},"tags":["orthanc"]}},"/api/queues/delete":{"delete":{"operationId":"QueuesDeleteController_flushQueue","parameters":[],"responses":{"200":{"description":"queue flushed"},"401":{"description":"Unauthorized"}},"tags":["queues/delete"],"security":[{"access-token":[]}]},"get":{"operationId":"QueuesDeleteController_getJobs","parameters":[{"name":"userId","required":false,"in":"query","schema":{"type":"number"}},{"name":"uuid","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"Get all jobs","content":{"application/json":{"schema":{"type":"object"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"tags":["queues/delete"],"security":[{"access-token":[]}]},"post":{"operationId":"QueuesDeleteController_addDeleteJob","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueuesDeleteDto"}}}},"responses":{"200":{"description":"Add job","content":{"application/json":{"schema":{"type":"object"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden - User already has jobs"}},"tags":["queues/delete"],"security":[{"access-token":[]}]}},"/api/queues/delete/{uuid}":{"delete":{"operationId":"QueuesDeleteController_removeDeleteJob","parameters":[{"name":"uuid","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Remove job"},"401":{"description":"Unauthorized"}},"tags":["queues/delete"],"security":[{"access-token":[]}]}},"/api/queues/anon":{"delete":{"operationId":"QueuesAnonController_flushQueue","parameters":[],"responses":{"200":{"description":"queue flushed"},"401":{"description":"Unauthorized"}},"tags":["queues/anon"],"security":[{"access-token":[]}]},"get":{"operationId":"QueuesAnonController_getJobs","parameters":[{"name":"userId","required":false,"in":"query","schema":{"type":"number"}},{"name":"uuid","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"Get all jobs","content":{"application/json":{"schema":{"type":"object"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"tags":["queues/anon"],"security":[{"access-token":[]}]},"post":{"operationId":"QueuesAnonController_addAnonJob","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueuesAnonsDto"}}}},"responses":{"200":{"description":"Add job","content":{"application/json":{"schema":{"type":"object"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden - User already has jobs"}},"tags":["queues/anon"],"security":[{"access-token":[]}]}},"/api/queues/anon/{uuid}":{"delete":{"operationId":"QueuesAnonController_removeAnonJob","parameters":[{"name":"uuid","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Remove job"},"401":{"description":"Unauthorized"}},"tags":["queues/anon"],"security":[{"access-token":[]}]}},"/api/queues/query":{"delete":{"operationId":"QueuesQueryController_flushQueue","parameters":[],"responses":{"200":{"description":"queue flushed"},"401":{"description":"Unauthorized"}},"tags":["queues/query"],"security":[{"access-token":[]}]},"get":{"operationId":"QueuesQueryController_getJobs","parameters":[{"name":"userId","required":false,"in":"query","schema":{"type":"number"}},{"name":"uuid","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"Get all jobs","content":{"application/json":{"schema":{"type":"object"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"tags":["queues/query"],"security":[{"access-token":[]}]},"post":{"operationId":"QueuesQueryController_addQueryJob","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueuesQueryDto"}}}},"responses":{"200":{"description":"Add job","content":{"application/json":{"schema":{"type":"object"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden - User already has jobs"}},"tags":["queues/query"],"security":[{"access-token":[]}]}},"/api/queues/query/{uuid}":{"delete":{"operationId":"QueuesQueryController_removeQueryJob","parameters":[{"name":"uuid","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Remove job"},"401":{"description":"Unauthorized"}},"tags":["queues/query"],"security":[{"access-token":[]}]}},"/api/login":{"post":{"operationId":"AuthController_signIn","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"200":{"description":"Login success"},"401":{"description":"Unauthorized"}},"tags":["auth"]}},"/api/register":{"post":{"operationId":"AuthController_register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterDto"}}}},"responses":{"201":{"description":"Register success"},"409":{"description":"Conflict"}},"tags":["auth"]}},"/api/change-password":{"post":{"operationId":"AuthController_changePassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordDto"}}}},"responses":{"201":{"description":"Password changed"},"400":{"description":"Bad request"}},"tags":["auth"]}}},"info":{"title":"GaelO Flow API","description":"The GaelO Flow API description","version":"2.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"access-token":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"Role":{"type":"object","properties":{"name":{"type":"string","example":"admin"},"import":{"type":"boolean","example":true},"anonymize":{"type":"boolean","example":true},"export":{"type":"boolean","example":true},"query":{"type":"boolean","example":true},"autoQuery":{"type":"boolean","example":true},"delete":{"type":"boolean","example":true},"admin":{"type":"boolean","example":true},"modify":{"type":"boolean","example":true},"cdBurner":{"type":"boolean","example":true},"autoRouting":{"type":"boolean","example":true}},"required":["name","import","anonymize","export","query","autoQuery","delete","admin","modify","cdBurner","autoRouting"]},"GetUserDto":{"type":"object","properties":{"id":{"type":"number","example":1},"firstname":{"type":"string","example":"John"},"lastname":{"type":"string","example":"Doe"},"username":{"type":"string","example":"johndoe"},"email":{"type":"string","example":"john.doe@gmail.com"},"superAdmin":{"type":"boolean","example":true},"roleName":{"type":"string","example":"admin"},"role":{"$ref":"#/components/schemas/Role"}},"required":["id","firstname","lastname","username","email","superAdmin","roleName","role"]},"UpdateUserDto":{"type":"object","properties":{"firstname":{"type":"string","example":"John"},"lastname":{"type":"string","example":"Doe"}},"required":["firstname","lastname"]},"CreateUserDto":{"type":"object","properties":{"id":{"type":"number","example":1},"firstname":{"type":"string","example":"John"},"lastname":{"type":"string","example":"Doe"},"username":{"type":"string","example":"johndoe"},"email":{"type":"string","example":"john.doe@gmail.com"},"superAdmin":{"type":"boolean","example":true},"roleName":{"type":"string","example":"admin"},"role":{"$ref":"#/components/schemas/Role"},"password":{"type":"string","example":"myPassw0rd"}},"required":["id","firstname","lastname","username","email","superAdmin","roleName","role","password"]},"RoleDto":{"type":"object","properties":{"name":{"type":"string","example":"admin"},"import":{"type":"boolean","example":true},"anonymize":{"type":"boolean","example":true},"export":{"type":"boolean","example":true},"query":{"type":"boolean","example":true},"autoQuery":{"type":"boolean","example":true},"delete":{"type":"boolean","example":true},"admin":{"type":"boolean","example":true},"modify":{"type":"boolean","example":true},"cdBurner":{"type":"boolean","example":true},"autoRouting":{"type":"boolean","example":true}},"required":["name","import","anonymize","export","query","autoQuery","delete","admin","modify","cdBurner","autoRouting"]},"Option":{"type":"object","properties":{"id":{"type":"number","example":1},"ldapType":{"type":"string","example":null,"default":null},"ldapProtocol":{"type":"string","example":null,"default":null},"ldapServer":{"type":"string","example":null,"default":null},"ldapPort":{"type":"number","example":null,"default":null},"ldapBaseDn":{"type":"string","example":null,"default":null},"ladpBindDn":{"type":"string","example":null,"default":null},"ldapBindPassword":{"type":"string","example":null,"default":null},"ldapGroup":{"type":"string","example":null,"default":null},"ldapUser":{"type":"string","example":null,"default":null},"autoQueryHourStart":{"type":"number","example":22},"autoQueryMinuteStart":{"type":"number","example":0},"autoQueryHourStop":{"type":"number","example":6},"autoQueryMinuteStop":{"type":"number","example":0},"useLdap":{"type":"boolean","example":false},"orthancMonitoringRate":{"type":"number","example":10},"burnerStarted":{"type":"boolean","example":false},"burnerLabelPath":{"type":"string","example":"","default":""},"burnerMonitoringLevel":{"type":"string","example":"Study","default":"Study"},"burnerManifacturer":{"type":"string","example":"Epson","default":"Epson"},"burnerMonitoredPath":{"type":"string","example":"","default":""},"burnerDeleteStudyAfterSent":{"type":"boolean","example":false,"default":false},"burnerSupportType":{"type":"string","example":"Auto","default":"Auto"},"burnerViewerPath":{"type":"string","example":"","default":""},"burnerTransferSyntax":{"type":"string","example":"None","default":"None"},"burnerDateFormat":{"type":"string","example":"uk","default":"uk"},"burnerTranscoding":{"type":"string","example":"None","default":"None"},"autorouterStarted":{"type":"boolean","example":false,"default":false}},"required":["id","autoQueryHourStart","autoQueryMinuteStart","autoQueryHourStop","autoQueryMinuteStop"]},"UpdateOptionDto":{"type":"object","properties":{"ldapType":{"type":"string","example":null,"default":null},"ldapProtocol":{"type":"string","example":null,"default":null},"ldapServer":{"type":"string","example":null,"default":null},"ldapPort":{"type":"number","example":null,"default":null},"ldapBaseDn":{"type":"string","example":null,"default":null},"ladpBindDn":{"type":"string","example":null,"default":null},"ldapBindPassword":{"type":"string","example":null,"default":null},"ldapGroup":{"type":"string","example":null,"default":null},"ldapUser":{"type":"string","example":null,"default":null},"autoQueryHourStart":{"type":"number","example":22},"autoQueryMinuteStart":{"type":"number","example":0},"autoQueryHourStop":{"type":"number","example":6},"autoQueryMinuteStop":{"type":"number","example":0},"useLdap":{"type":"boolean","example":false,"default":false},"orthancMonitoringRate":{"type":"number","example":10,"default":10},"burnerStarted":{"type":"boolean","example":true,"default":true},"burnerLabelPath":{"type":"string","example":"","default":""},"burnerMonitoringLevel":{"type":"string","example":"Study","default":"Study"},"burnerManifacturer":{"type":"string","example":"Epson","default":"Epson"},"burnerMonitoredPath":{"type":"string","example":"","default":""},"burnerDeleteStudyAfterSent":{"type":"boolean","example":false,"default":false},"burnerSupportType":{"type":"string","example":"Auto","default":"Auto"},"burnerViewerPath":{"type":"string","example":"","default":""},"burnerTransferSyntax":{"type":"string","example":"None","default":"None"},"burnerDateFormat":{"type":"string","example":"uk","default":"uk"},"burnerTranscoding":{"type":"string","example":"None","default":"None"},"autorouterStarted":{"type":"boolean","example":false,"default":false}}},"Label":{"type":"object","properties":{"name":{"type":"string","example":"name"}},"required":["name"]},"LabelDto":{"type":"object","properties":{"name":{"type":"string","example":"name"}},"required":["name"]},"QueuesDeleteDto":{"type":"object","properties":{"orthancSeriesIds":{"example":["series_id_1","series_id_2"],"type":"array","items":{"type":"string"}}},"required":["orthancSeriesIds"]},"QueuesAnonsDto":{"type":"object","properties":{"anonymizes":{"example":[null],"type":"array","items":{"type":"string"}}},"required":["anonymizes"]},"QueuesQueryDto":{"type":"object","properties":{"studies":{"example":[null],"type":"array","items":{"type":"string"}},"series":{"example":[null],"type":"array","items":{"type":"string"}}}},"LoginDto":{"type":"object","properties":{"username":{"type":"string","example":"username"},"password":{"type":"string","example":"myPassw0rd"}},"required":["username","password"]},"RegisterDto":{"type":"object","properties":{"email":{"type":"string","example":"mail@example.com"},"username":{"type":"string","example":"username"},"firstname":{"type":"string","example":"firstname"},"lastname":{"type":"string","example":"lastname"}},"required":["email","username","firstname","lastname"]},"ChangePasswordDto":{"type":"object","properties":{}}}}}